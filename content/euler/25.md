+++
title = "Project Euler 25: N-digit Fibonacci Number"
author = ["Gautam Manohar"]
description = "My solution to problem 25 of Project Euler."
date = 2018-06-12
tags = ["fibonacci"]
categories = ["euler", "math"]
draft = false
+++

## Problem Statement {#problem-statement}

What is the first term in the Fibonacci sequence to contain \\(N\\) digits?


## My Algorithm {#my-algorithm}

We will use Binet's formula for the $n$-th fibonacci number

\begin{equation}
F\_n = \frac{\varphi^n - (-\varphi)^{-n}}{\sqrt{5}}.
\end{equation}

The \\((-\varphi)^{-n}\\) quickly becomes negligible. So we can make the
approximation

\begin{equation}
F\_n \approx \frac{\varphi^n}{\sqrt{5}}.
\label{approx}
\end{equation}

A number \\(n\\) has \\(\lfloor \log\_{10} n \rfloor + 1\\) digits. So we must solve the
following equation such that \\(n\\) is minimized:

\begin{equation}
\lfloor \log\_{10} F\_n \rfloor + 1 = N.
\label{fib-eq}
\end{equation}

Recall that \\(\lfloor x \rfloor\\) is defined as the greatest integer less or equal
to than \\(x\\). That is,

\begin{equation}
x \le \lfloor x \rfloor < x + 1.
\label{floor}
\end{equation}

Applying \eqref{approx} and \eqref{floor} to \eqref{fib-eq} gives

\begin{equation}
\begin{split}
N &\le 1 + \log\_{10} F\_n < N + 1 \\\\\\
N - 1 & \le \log\_{10} \frac{\varphi^n}{\sqrt{5}} \\\\\\
N - 1 + \frac{\log\_{10}5}{2} &\le n \log\_{10} \varphi \\\\\\
\frac{N - 1 + \frac{\log\_{10}5}{2}}{\log\_{10}\varphi} &\le n.
\end{split}
\label{final}
\end{equation}

We see that \\(n\\) is minimized when it is the smallest integer greater than the
left side of \eqref{final}. This is precisely the definition of the ceiling
function. And so we have our desired answer:

\begin{equation}
n = \left\lceil \frac{N - 1 + \frac{\log\_{10}5}{2}}{\log\_{10}\varphi} \right\rceil.
\end{equation}

Because our solution is just a computation, it has time complexity \\(O(1)\\). In
our code, we just need to handle the corner case where \\(N = 1\\); here our
approximation \eqref{approx} introduces enough error to return an incorrect
answer.